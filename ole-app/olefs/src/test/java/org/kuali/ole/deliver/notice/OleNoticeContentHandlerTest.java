package org.kuali.ole.deliver.notice;

import freemarker.cache.FileTemplateLoader;
import freemarker.template.Configuration;
import freemarker.template.Template;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.select.Elements;
import org.junit.Test;
import org.kuali.ole.deliver.batch.OleNoticeBo;
import org.kuali.ole.loaders.common.FileUtils;

import java.io.File;
import java.io.OutputStreamWriter;
import java.io.StringWriter;
import java.io.Writer;
import java.net.URL;
import java.util.Date;
import java.util.HashMap;
import java.util.Map;

import static junit.framework.TestCase.assertNotNull;

/**
 * Created by pvsubrah on 9/28/15.
 */
public class OleNoticeContentHandlerTest {
    @Test
    public void parseNoticeContent() throws Exception {
        String sampleNoticeContent = "<HTML><TITLE>OVERDUE NOTICE</TITLE><HEAD></HEAD><BODY><HTML><TITLE>OVERDUE NOTICE</TITLE><HEAD></HEAD><BODY><TABLE></BR></BR><TR><TD>Patron Name :</TD><TD>Paul Spyridis</TD></TR><TR><TD>Address :</TD><TD>228 Southgate Drive,Northbrook,IL,US,60062</TD></TR><TR><TD>EMAIL :</TD><TD>spyridis@uchicago.edu</TD></TR><TR><TD>Phone Number :</TD><TD>847-724-8403</TD></TR></TABLE><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR><TABLE width=\"100%\"><TR><TD><CENTER>OVERDUE NOTICE</CENTER></TD></TR><TR><TD><p>The following item(s) is now past its due date as shown below. You may already be liable for fines and unresolved overdue situations may result in loss of library privileges. Please return the item as soon as possible.</p></TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></TABLE><table><TR><TD>Title :</TD><TD>Blood of Spain : an oral history of the Spanish Civil War /</TD></TR><TR><TD>Author :</TD><TD>Fraser, Ronald, 1930-2012</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Regenstein, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>DP269.F730 1979</TD></TR><TR><TD>Item Barcode :</TD><TD>18194695</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Classical kinetic theory of fluids /</TD></TR><TR><TD>Author :</TD><TD>Résibois, Pierre M. V.</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC175.3.R470</TD></TR><TR><TD>Item Barcode :</TD><TD>14939976</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Quantum mechanics : non-relativistic theory /</TD></TR><TR><TD>Author :</TD><TD>Landau, L. D. (Lev Davidovich), 1908-1968</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.2</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC174.12.L35130 1977</TD></TR><TR><TD>Item Barcode :</TD><TD>15218703</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>The crisis of democracy : report on the governability of democracies to the Trilateral Commission /</TD></TR><TR><TD>Author :</TD><TD>Crozier, Michel</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.4</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Regenstein, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>JC421.C91</TD></TR><TR><TD>Item Barcode :</TD><TD>23978250</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Albert Einstein, philosopher-scientist.</TD></TR><TR><TD>Author :</TD><TD>Schilpp, Paul Arthur, 1897-1993</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.3</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC16.E5S34</TD></TR><TR><TD>Item Barcode :</TD><TD>21081638</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Methods of theoretical physics /</TD></TR><TR><TD>Author :</TD><TD>Morse, Philip M. (Philip McCord), 1903-1985</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>v.2/ /c.2</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC20.M88</TD></TR><TR><TD>Item Barcode :</TD><TD>73368671</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Trilateralism : the Trilateral Commission and elite planning for world management /</TD></TR><TR><TD>Author :</TD><TD></TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Regenstein, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>JX1995.T750 1980</TD></TR><TR><TD>Item Barcode :</TD><TD>22651061</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Theory of simple liquids /</TD></TR><TR><TD>Author :</TD><TD>Hansen, Jean-Pierre, 1942-</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC145.2.H360 1986</TD></TR><TR><TD>Item Barcode :</TD><TD>73783621</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Field theory in particle physics /</TD></TR><TR><TD>Author :</TD><TD>Wit, B. de</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>v.1/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC793.3.F5W580 1986</TD></TR><TR><TD>Item Barcode :</TD><TD>25064164</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Frontiers of nonequilibrium statistical physics /</TD></TR><TR><TD>Author :</TD><TD>NATO Advanced Study Institute on Frontiers of Nonequilibrium Statistical Physics (1984 : Santa Fe, N.M.)</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC174.7.N380 1984</TD></TR><TR><TD>Item Barcode :</TD><TD>24927877</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Applications of Lie groups to differential equations /</TD></TR><TR><TD>Author :</TD><TD>Olver, Peter J.</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Eckhart</TD></TR><TR><TD>Call Number :</TD><TD>QA372.O550 1986</TD></TR><TR><TD>Item Barcode :</TD><TD>24903211</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Mathematical physics /</TD></TR><TR><TD>Author :</TD><TD>Geroch, Robert.</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC20.G470 1985</TD></TR><TR><TD>Item Barcode :</TD><TD>24245172</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>The Fokker-Planck equation : methods of solution and applications /</TD></TR><TR><TD>Author :</TD><TD>Risken, H. (Hannes), 1934-</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.2</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC20.7.D5R570 1984</TD></TR><TR><TD>Item Barcode :</TD><TD>69865110</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Theory of elasticity /</TD></TR><TR><TD>Author :</TD><TD>Landau, L. D. (Lev Davidovich), 1908-1968</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.4</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QA931.L25</TD></TR><TR><TD>Item Barcode :</TD><TD>73604063</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Elements of the theory of functions and functional analysis,</TD></TR><TR><TD>Author :</TD><TD>Kolmogorov, A. N. (Andreĭ Nikolaevich), 1903-1987</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>v.2/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Eckhart</TD></TR><TR><TD>Call Number :</TD><TD>QA331.K81</TD></TR><TR><TD>Item Barcode :</TD><TD>11684630</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Singularities of differentiable maps /</TD></TR><TR><TD>Author :</TD><TD>Arnolʹd, V. I. (Vladimir Igorevich), 1937-2010</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>v.1/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Eckhart</TD></TR><TR><TD>Call Number :</TD><TD>QA614.58.A75130 1985</TD></TR><TR><TD>Item Barcode :</TD><TD>24214853</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Basic notions of condensed matter physics /</TD></TR><TR><TD>Author :</TD><TD>Anderson, P. W. (Philip W.), 1923-</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC173.4.C65A530 1984</TD></TR><TR><TD>Item Barcode :</TD><TD>23726514</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Gauge theories in particle physics : a practical introduction /</TD></TR><TR><TD>Author :</TD><TD>Aitchison, Ian Johnston Rhind, 1936-</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC793.3.F5A340 1989</TD></TR><TR><TD>Item Barcode :</TD><TD>31040998</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Lectures on groups and vector spaces for physicists /</TD></TR><TR><TD>Author :</TD><TD>Isham, C. J.</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QA171.I740 1989</TD></TR><TR><TD>Item Barcode :</TD><TD>47667074</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Statistical field theory /</TD></TR><TR><TD>Author :</TD><TD>Itzykson, Claude</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>v.1/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC174.8.I890 1989</TD></TR><TR><TD>Item Barcode :</TD><TD>41684455</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Statistical field theory /</TD></TR><TR><TD>Author :</TD><TD>Itzykson, Claude</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>v.2/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC174.8.I890 1989</TD></TR><TR><TD>Item Barcode :</TD><TD>34965189</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Elements of differentiable dynamics and bifurcation theory /</TD></TR><TR><TD>Author :</TD><TD>Ruelle, David</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Eckhart</TD></TR><TR><TD>Call Number :</TD><TD>QA614.8.R840 1989</TD></TR><TR><TD>Item Barcode :</TD><TD>62360065</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Aspects of quantum field theory in curved space-time /</TD></TR><TR><TD>Author :</TD><TD>Fulling, Stephen A.</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC174.45.F92 1989</TD></TR><TR><TD>Item Barcode :</TD><TD>34693024</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>The classical theory of field /,</TD></TR><TR><TD>Author :</TD><TD>Landau, L. D. (Lev Davidovich), 1908-1968</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.3</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC670.L251</TD></TR><TR><TD>Item Barcode :</TD><TD>15939536</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Quaternionic quantum mechanics and quantum fields /</TD></TR><TR><TD>Author :</TD><TD>Adler, Stephen L.</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC174.12.A340 1995</TD></TR><TR><TD>Item Barcode :</TD><TD>43027616</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>The critical point : a historical introduction to the modern theory of critical phenomena /</TD></TR><TR><TD>Author :</TD><TD>Domb, Cyril.</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC173.4.C74 D66 1996</TD></TR><TR><TD>Item Barcode :</TD><TD>63272948</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>The action principle and partial differential equations /</TD></TR><TR><TD>Author :</TD><TD>Christodoulou, Demetrios, 1951-</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QA377.C475 2000</TD></TR><TR><TD>Item Barcode :</TD><TD>55560984</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Equilibrium statistical mechanics /</TD></TR><TR><TD>Author :</TD><TD>Mazenko, G. (Gene)</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC174.8 .M39 2000</TD></TR><TR><TD>Item Barcode :</TD><TD>56451737</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Brownian motion : fluctuations, dynamics, and applications /</TD></TR><TR><TD>Author :</TD><TD>Mazo, Robert M.</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC183 .M39 2002</TD></TR><TR><TD>Item Barcode :</TD><TD>60561853</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Analysis, manifolds and physics. Part II /</TD></TR><TR><TD>Author :</TD><TD>Choquet-Bruhat, Yvonne.</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.2</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC20.7.A5C48 2001</TD></TR><TR><TD>Item Barcode :</TD><TD>60649365</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Quantum field theory and critical phenomena /</TD></TR><TR><TD>Author :</TD><TD>Zinn-Justin, Jean.</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC174.45 .Z56 2002</TD></TR><TR><TD>Item Barcode :</TD><TD>60841498</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>An introduction to geometrical physics /</TD></TR><TR><TD>Author :</TD><TD>Aldrovandi, R. (Ruben)</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC20.7.D52A530 1995</TD></TR><TR><TD>Item Barcode :</TD><TD>43350869</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>The collected works of Eugene Paul Wigner /</TD></TR><TR><TD>Author :</TD><TD>Wigner, Eugene Paul, 1902-1995-</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>v.6/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC771.W640 1992</TD></TR><TR><TD>Item Barcode :</TD><TD>75664763</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Catastrophe theory /</TD></TR><TR><TD>Author :</TD><TD>Arnolʹd, V. I. (Vladimir Igorevich), 1937-2010</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Eckhart</TD></TR><TR><TD>Call Number :</TD><TD>QA614.58.A76130 1992</TD></TR><TR><TD>Item Barcode :</TD><TD>38297006</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Reflections on Kurt Gödel /</TD></TR><TR><TD>Author :</TD><TD>Wang, Hao, 1921-</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QA29.G58W360 1987</TD></TR><TR><TD>Item Barcode :</TD><TD>27558405</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Embodiments of mind.</TD></TR><TR><TD>Author :</TD><TD>McCulloch, Warren S. (Warren Sturgis), 1898</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.2</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>Q303.M17</TD></TR><TR><TD>Item Barcode :</TD><TD>11181298</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Quantum field theory in curved spacetime and black hole thermodynamics /</TD></TR><TR><TD>Author :</TD><TD>Wald, Robert M.</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.2</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC174.45.W350 1994</TD></TR><TR><TD>Item Barcode :</TD><TD>42642862</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Gravitation et quantifications = Gravitation and quantizations : Les Houches, session LVII, 5 juillet-1 août 1992 /</TD></TR><TR><TD>Author :</TD><TD></TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC174.45.G7170 1995</TD></TR><TR><TD>Item Barcode :</TD><TD>43586038</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Finite temperature field theory /</TD></TR><TR><TD>Author :</TD><TD>Das, Ashok, 1953-</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC174.45 .D368 1997</TD></TR><TR><TD>Item Barcode :</TD><TD>45099149</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Perspectives on quantization : proceedings of the 1996 AMS-IMS-SIAM Joint Summer Research Conference, July 7-11, 1996, Mt. Holyoke College /</TD></TR><TR><TD>Author :</TD><TD>AMS-IMS-SIAM Joint Summer Research Conference</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC174.17.M35 A45 1996</TD></TR><TR><TD>Item Barcode :</TD><TD>49071050</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>The Langevin equation : with applications in physics, chemistry and electrical engineering /</TD></TR><TR><TD>Author :</TD><TD>Coffey, W T.</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QA274.75.C6 1996</TD></TR><TR><TD>Item Barcode :</TD><TD>44457650</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>John von Neumann : selected letters /</TD></TR><TR><TD>Author :</TD><TD>Von Neumann, John, 1903-1957.</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QA29.V66 A4 2005</TD></TR><TR><TD>Item Barcode :</TD><TD>71046389</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table><table><TR><TD>Title :</TD><TD>Lecture notes on Schrödinger equations /</TD></TR><TR><TD>Author :</TD><TD>Pankov, A. A. (Aleksandr Andreevich)</TD></TR><TR><TD>Volume/Issue/Copy Number :</TD><TD>/ /c.1</TD></TR><TR><TD>Item was due :</TD><TD>06/26/2015 11:59 PM</TD></TR><TR><TD>Library shelving location :</TD><TD>Crerar, Bookstacks</TD></TR><TR><TD>Call Number :</TD><TD>QC174.26.W28 P36 2007</TD></TR><TR><TD>Item Barcode :</TD><TD>80705193</TD></TR><TR><TD>&nbsp;</TD><TD>&nbsp;</TD></TR></table>\n";
        Document parsedDocument = Jsoup.parse(sampleNoticeContent);

        Elements title = parsedDocument.body().getElementsByTag("title");
        Elements body = parsedDocument.body().getElementsByTag("title");


        assertNotNull(parsedDocument);
    }


    @Test
    public void generateNoticeHTML() throws Exception {
        Configuration cfg = new Configuration();

        StringBuilder noticeDir = new StringBuilder();

        File dir = new File(getClass().getPackage().getName());
        String userDir = System.getProperty("user.dir");
        noticeDir.append(userDir);
        noticeDir.append("src/test");
        cfg.setDirectoryForTemplateLoading(new File("/Users/pvsubrah/Development/IntelliJ/Kuali/ole-2.0-svn/ole-app/olefs/src/test/resources/org/kuali/ole/deliver/notice"));

        Template template = cfg.getTemplate("notice.ftl");

        Map<String, Object> input = new HashMap<String, Object>();

        input.put("title", "OverudeNotice");

        OleNoticeBo oleNoticeBo = new OleNoticeBo();

        oleNoticeBo.setPatronName("John Doe");
        oleNoticeBo.setPatronAddress("123, High Street, MA - 201231");
        oleNoticeBo.setPatronEmailAddress("j.doe@hotmail.com");
        oleNoticeBo.setPatronPhoneNumber("712-123-2145");

        oleNoticeBo.setTitle("History of Mars");
        oleNoticeBo.setAuthor("Mary Jane");
        oleNoticeBo.setVolumeNumber("v1.0");
        input.put("dueDate", new Date().toString());
        oleNoticeBo.setItemShelvingLocation("UC/JRL/GEN");
        oleNoticeBo.setItemCallNumber("X-123");
        oleNoticeBo.setItemId("1234");
        oleNoticeBo.setNoticeSpecificContent("This is a test notice. Please ignore!!");


        input.put("oleNoticeBo", oleNoticeBo);

        StringWriter stringWriter = new StringWriter();
        template.process(input, stringWriter);

        System.out.println(stringWriter.toString());
    }

}